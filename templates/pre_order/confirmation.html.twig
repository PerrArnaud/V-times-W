{% extends 'base.html.twig' %}

{% block title %}Confirmation de pré-commande{% endblock %}

{% block body %}
<div class="container mt-5 mb-5">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card border-success shadow">
                <div class="card-header bg-success text-white">
                    <h3 class="mb-0">
                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-check-circle-fill me-2" viewBox="0 0 16 16">
                            <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
                        </svg>
                        Pré-commande confirmée
                    </h3>
                </div>
                <div class="card-body">
                    <div class="alert alert-success" role="alert">
                        <h4 class="alert-heading">Merci {{ preOrder.prenom }} {{ preOrder.nom }} !</h4>
                        <p>Votre pré-commande a été enregistrée avec succès.</p>
                    </div>

                    <h5 class="mb-3">Récapitulatif de votre commande :</h5>
                    
                    <table class="table table-bordered">
                        <tbody>
                            <tr>
                                <th style="width: 40%;">Produit</th>
                                <td>{{ preOrder.produit.name }}</td>
                            </tr>
                            <tr>
                                <th>Quantité</th>
                                <td>{{ preOrder.quantiteCommandee }}</td>
                            </tr>
                            <tr>
                                <th>Prix unitaire</th>
                                <td>{{ preOrder.produit.price|number_format(2, ',', ' ') }} €</td>
                            </tr>
                            <tr class="table-primary">
                                <th>Prix total</th>
                                <td><strong>{{ prixTotal|number_format(2, ',', ' ') }} €</strong></td>
                            </tr>
                        </tbody>
                    </table>

                    {% if preOrder.message %}
                    <div class="mt-3">
                        <h6>Votre message :</h6>
                        <p class="text-muted">{{ preOrder.message }}</p>
                    </div>
                    {% endif %}

                    <div class="alert alert-info mt-4" role="alert">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-envelope-check me-2" viewBox="0 0 16 16">
                            <path d="M2 2a2 2 0 0 0-2 2v8.01A2 2 0 0 0 2 14h5.5a.5.5 0 0 0 0-1H2a1 1 0 0 1-.966-.741l5.64-3.471L8 9.583l7-4.2V8.5a.5.5 0 0 0 1 0V4a2 2 0 0 0-2-2zm3.708 6.208L1 11.105V5.383zM1 4.217V4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v.217l-7 4.2z"/>
                            <path d="M16 12.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0m-1.993-1.679a.5.5 0 0 0-.686.172l-1.17 1.95-.547-.547a.5.5 0 0 0-.708.708l.774.773a.75.75 0 0 0 1.174-.144l1.335-2.226a.5.5 0 0 0-.172-.686"/>
                        </svg>
                        <strong>Un email de confirmation a été envoyé à {{ preOrder.email }}</strong>
                    </div>

                    <p class="mt-3">Nous vous contacterons sous 48h pour confirmer la date de retrait de votre horloge vinyle.</p>

                    <div class="text-center mt-4">
                        <a href="{{ path('app_home') }}" class="btn btn-outline-primary btn-lg">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-house-door me-2" viewBox="0 0 16 16">
                                <path d="M8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4.5a.5.5 0 0 0 .5-.5v-4h2v4a.5.5 0 0 0 .5.5H14a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293zM2.5 14V7.707l5.5-5.5 5.5 5.5V14H10v-4a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v4z"/>
                            </svg>
                            Retour à l'accueil
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
